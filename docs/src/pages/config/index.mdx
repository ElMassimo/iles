---
sidebar: auto
---

[pages]: /guide/pages
[plugins]: /guide/plugins
[Vite's plugins]: https://vitejs.dev/plugins/
[config reference]: https://vitejs.dev/config/

[site]: /guide/development#site
[meta tags]: /guide/meta-tags
[sitemap]: /guide/development#sitemap

[shortcodes]: /guide/markdown#advanced-provide-components-shortcodes
[deployment]: /guide/deployment 
[VitePress]: /faqs#vitepress
[turbo]: /guide/turbo
[documents]: /guide/documents
[drafts]: /guide/markdown
[useDocuments]: /guide/documents
[discussion]: https://github.com/ElMassimo/iles/discussions/6#discussioncomment-1479755

# Configuration

The following section is an overview of basic configuration for <Iles/>.

Most of the options discussed are specific to <Iles/>, for the rest of the available configuration options please check Vite's [config reference].

## Configuring Vite <ViteLogo/>

You can configure Vite.js as [usual](https://vitejs.dev/config/) using `vite.config.ts`, check [Vite's plugins] and [config reference].

Alternatively, you can provide a `vite` option in [`iles.config.ts`](#configuring-îles) with the same options.

```ts
import { defineConfig } from 'iles'

export default defineConfig({
  vite: {
    plugins: [],
  },
})
```

> Visit the _[Plugins]_ section for more details about the [pre-configured Vite.js plugins](/guide/plugins#vite-plugins).

## Configuring <span class="hidden" aria-hidden="true">îles</span> <Iles heading/>

You may provide an `iles.config.ts` configuration file to customize settings
related to markdown, component resolution, and other îles-specific features.

You can leverage your IDE's intellisense with jsdoc type hints or use the `defineConfig` helper:

```ts
import { defineConfig } from 'iles'

export default defineConfig({
  siteUrl: 'https://iles-docs.netlify.app',
  jsx: 'preact',
})
```

### `drafts`

- **Type:** `boolean`
- **Default:** `true` in development, `false` when building

Whether to include [drafts] in pages and [documents].

By default drafts will be displayed during development, but will be excluded when building the site.

> When disabled, drafts will also be excluded from <kbd>[useDocuments]</kbd>.

### `modules`

- **Type:** `IlesModuleOption[]`

<Iles/> modules to apply in the site. [Read the _Plugins and Modules_ guide][plugins].

### `turbo` (experimental)

- **Type:** `boolean`
- **Default:** `false`

Whether to enable SPA-like navigation for the site. See the [guide for _Turbo_][turbo].

### `jsx`

- **Type:** `'vue' | 'preact' | 'solid'`
- **Default:** `'vue'`

Which framework to use to compile `.jsx` and `.tsx` files.

### `prettyUrls`

- **Type:** `boolean`
- **Default:** `true`

Whether to skip `.html` and trailing slashes in link hrefs and router paths.

<Tip>
Set `prettyUrls: false` to simplify the migration of an existing [VitePress] site
without having to add redirects, or when deploying on services that don't support pretty urls ([most do][deployment]).
</Tip>

### `ssg`

Options applied during site generation when running <kbd>iles build</kbd>.

#### `ssg.beforePageRender`

- **Type:** `async (page: RouteToRender, config: AppConfig) => RouteToRender | void`

This hook will be invoked before îles renders a page.

<Tip>
Modify `page.rendered` to alter the content of the page as needed.
</Tip>

#### `ssg.onSiteRendered`

- **Type:** `async ({ pages: RouteToRender[], config: AppConfig }) => void`

This hook will be invoked once îles has rendered the entire site.

#### `ssg.manualChunks`

Allows to configure how JS chunks for islands should be grouped.

#### `ssg.sitemap`

- **Type:** ` boolean`
- **Default:**: `true`

Whether to [generate a sitemap][sitemap] and reference it using a meta tag in all pages.

<Tip warn>
You must provide <kbd>[siteUrl](#siteurl)</kbd> to enable sitemap generation.
</Tip>

### `siteUrl`

- **Type:** `string`

URL for the [site] in production, used to generate absolute URLs for the [sitemap]
and social [meta tags].


<Tip>
When set, it is exposed as `site.url` and `site.canonical`.
</Tip>

### `debug`

- **Type:** `boolean | 'log'`
- **Default:** `true`

Whether to output more information about islands and hydration in development.

## Your App

<Iles/> will pre-configure a Vue 3 shell app to enhance your development experience that will load any [pages] defined in your site.

Note that this "outer" shell app is used only during development and is not available once your site is built.

You may provide additional configuration in `src/app.ts` by using the `defineApp` helper. These additional configuration can be for the shell app to customise your development/build logic, as well as for your whole site and the islands within your site.

```ts
import { defineApp } from 'iles'

export default defineApp({
  enhanceApp ({ app, head, router }) {
    // Configure the shell app to customise with development/build logic
  },
  enhanceIslands ({ app }) {
    // Configure all Vue Islands to add Vue plugins
    app.use(pinia)
  },
  head ({ frontmatter, site }) {
    return {
      meta: [
        { property: 'author', content: site.author },
        { property: 'keywords', content: computed(() => frontmatter.tags) },
      ]
    }
  },
  router: {
    scrollBehavior (current, previous, savedPosition) {
      // Configure the scroll behavior
    }, 
  },
  mdxComponents: {
    b: 'strong',
    img: Image,
  },
  socialTags: true // default
})
```

### `enhanceApp` (Development only)

- **Type:** `(context: AppContext) => void | Promise<void>`

A hook where you can add additional development/build logic. See this [discussion] thread for few suggestions.

### `enhanceIslands` (Vue Islands only)

- **Type:** `(context: IslandContext) => void | Promise<void>`

A hook where you can extend all your Vue Islands in your site with plugins such as pinia, i18n, vuetify, etc.

The hook will be invoked for every Vue Island in your site.

```ts
import { defineApp } from 'iles'
import { createI18n } from 'vue-i18n'
import { createPinia } from 'pinia'
import { createVuetify } from 'vuetify'

const i18n = createI18n({
  // vue-i18n options ...
})
const pinia = createPinia()
const vuetify = createVuetify({
  // vuetify options ...
})

export default defineApp({
  enhanceIslands({ app }) {
    app.use(i18n)
    app.use(pinia)
    if(app._component.name === 'Island: ChatboxIsland') {
      // To initialise Vuetify only within ChatboxIsland.vue
      app.use(vuetify)
    }
  },
})
```

### `head`

- **Type:** `HeadObject | (context: AppContext) => HeadObject`

Set the page title, meta tags, additional CSS, or scripts using [`@unhead/vue`][@unhead/vue].

### `router`

- **Type:** `RouterOptions`

Configure [`vue-router`][vue-router] by providing options such as `scrollBehavior` and `linkActiveClass`.

### `mdxComponents`

- **Type:** `MDXComponents | (context: AppContext) => MDXComponents`

Provide an object that [maps tag names in MDX to components][shortcodes] to render.

```ts
import { defineApp } from 'iles'
import Image from '~/components/Image.vue'

export default defineApp({
  mdxComponents: {
    b: 'strong',
    img: Image,
  },
})
```

### `socialTags`

- **Type:** `boolean`
- **Default:** `true`

Some social tags can be inferred from the <kbd>[site]</kbd>.

Set it to `false` to avoid adding social tags such as `og:title` and `twitter:description`.

## `iles.config.ts` Example

```ts
import { defineConfig } from 'iles'

import UnoCSS from 'unocss/vite'

export default defineConfig({
  siteUrl: 'https://iles-docs.netlify.app',
  extendFrontmatter (frontmatter, filename) {
    if (filename.includes('/posts/'))
      frontmatter.layout = 'post'
  },
  markdown: {
    remarkPlugins: [
      'remark-gemoji',
    ],
  },
  modules: [
    '@islands/icons',
    '@islands/headings',
    '@islands/prism',
  ],
  vite: {
    plugins: [
      UnoCSS(),
    ],
  },
})
```


[vue-router]: https://next.router.vuejs.org/
[@unhead/vue]: https://github.com/@unhead/vue
[site]: #the-site
